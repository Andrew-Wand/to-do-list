(()=>{"use strict";const e=(()=>{let e;const t=document.getElementById("body-content"),n=(document.getElementById("project-title"),e=>{const n=document.createElement("div");t.appendChild(n);const o=document.createElement("div");o.classList.add("task-title"),o.textContent=`${e.title}`,n.appendChild(o)}),o=t=>{document.getElementById("modal-container").classList.add("show");const o=document.getElementById("title-input");document.getElementById("modal-form").addEventListener("submit",(t=>{t.preventDefault();let c={title:o.value};document.getElementById("modal-container").classList.remove("show"),n(c),e.myTasks.push(c)}))};return{resetProject:()=>{t.textContent=""},openProject:c=>{e=c;const d=document.createElement("div");d.classList.add("proj-title-container"),t.appendChild(d);const s=document.createElement("div");s.classList.add("proj-title"),s.textContent=`${c.name}`,d.appendChild(s),0!=c.myTasks.length&&c.myTasks.forEach((e=>{n(e)}));const a=document.createElement("div");a.textContent="âž• Add a new task...",a.addEventListener("click",o),a.classList.add("new-task"),t.appendChild(a)},newTask:n}})(),t=(()=>{const t=document.getElementById("proj-container"),n=document.getElementById("proj-container");let o=[];const c=document.getElementById("add-project-form");c.addEventListener("submit",(e=>{e.preventDefault();const t=document.getElementById("project-title-input");let n={name:t.value,myTasks:[]};c.classList.remove("show"),s(n),t.value=""}));const d=t=>{if(!t.target.className)return;let n;e.resetProject(),document.querySelectorAll(".project-container").forEach((e=>{e.classList.contains("project-click")&&e.classList.remove("project-click")})),o.forEach((e=>{e.name==t.target.textContent&&(n=e)})),t.target.classList.add("project-click"),e.openProject(n)},s=e=>{const c=document.createElement("div");c.classList.add("project-container"),c.setAttribute("id","project-container");const s=document.createElement("div");s.classList.add("project-btn-container");const a=document.createElement("div");a.textContent=`${e.name}`,a.classList.add("project-title");const r=document.createElement("button");r.textContent="Delete",r.classList.add("project-delete-btn");const l=document.createElement("button");l.textContent="Edit",l.classList.add("project-edit-btn"),c.appendChild(a),c.appendChild(s),s.appendChild(r),s.appendChild(l),l.innerHTML='<i class="fa-solid fa-pen-to-square"></i>',r.innerHTML='<i class="fa-solid fa-trash-can"></i>',t.appendChild(c),o.push(e),r.addEventListener("click",(t=>{c.textContent="",c.style.display="none";const n=o.indexOf(e);n>-1&&o.splice(n,1)})),n.addEventListener("click",d,!0)};return{addProject:s,openProjectForm:()=>{document.getElementById("add-project-form").classList.add("show"),document.getElementById("project-title-input").required=!0},getProjectArr:()=>o}})();let n=[];localStorage.hasOwnProperty("projects")&&(n=JSON.parse(localStorage.getItem("projects")),n.forEach((e=>{t.addProject(e)})));const o=document.getElementById("side-bar-btn"),c=document.getElementById("side-bar"),d=document.getElementById("body-container");o.addEventListener("click",(()=>{c.classList.toggle("close"),d.classList.toggle("toggle")})),document.getElementById("add-project-btn").addEventListener("click",(e=>{t.openProjectForm(),n=t.getProjectArr(),document.getElementById("project-submit-btn")})),window.onbeforeunload=()=>{n=t.getProjectArr(),localStorage.setItem("projects",JSON.stringify(n))}})();