(()=>{"use strict";const e=(()=>{let e;const t=document.getElementById("body-content"),n=(document.getElementById("project-title"),e=>{const n=document.createElement("div");n.classList.add("task-container"),t.appendChild(n);const c=document.createElement("div");c.classList.add("task-title"),c.textContent=`${e.title}`,n.appendChild(c)}),c=e=>{document.getElementById("modal-container").classList.add("show")},o=document.getElementById("title-input");return document.getElementById("modal-form").addEventListener("submit",(t=>{t.preventDefault();let c={title:o.value};document.getElementById("modal-container").classList.remove("show"),o.value="",n(c),e.myTasks.push(c)})),{resetProject:()=>{t.textContent=""},openProject:o=>{e=o;const d=document.createElement("div");d.classList.add("proj-title-container"),t.appendChild(d);const s=document.createElement("div");s.classList.add("proj-title"),s.textContent=`${o.name}`,d.appendChild(s),0!=o.myTasks.length&&o.myTasks.forEach((e=>{n(e)}));const a=document.createElement("div");a.innerHTML='<button class="add-task-btn" id="add-task-btn">\n            <i class="fa-solid fa-circle-plus"></i>\n        </button>',a.addEventListener("click",c),a.classList.add("new-task"),d.appendChild(a)},newTask:n}})(),t=(()=>{const t=document.getElementById("proj-container"),n=document.getElementById("proj-container");let c=[];const o=document.getElementById("add-project-form");o.addEventListener("submit",(e=>{e.preventDefault();const t=document.getElementById("project-title-input");let n={name:t.value,myTasks:[]};o.classList.remove("show"),s(n),t.value=""}));const d=t=>{if(!t.target.className)return;let n;e.resetProject(),document.querySelectorAll(".project-container").forEach((e=>{e.classList.contains("project-click")&&e.classList.remove("project-click")})),c.forEach((e=>{e.name==t.target.textContent&&(n=e)})),t.target.classList.add("project-click"),e.openProject(n)},s=e=>{const o=document.createElement("div");o.classList.add("project-container"),o.setAttribute("id","project-container");const s=document.createElement("div");s.classList.add("project-btn-container");const a=document.createElement("div");a.textContent=`${e.name}`,a.classList.add("project-title");const l=document.createElement("button");l.textContent="Delete",l.classList.add("project-delete-btn");const r=document.createElement("button");r.textContent="Edit",r.classList.add("project-edit-btn"),o.appendChild(a),o.appendChild(s),s.appendChild(l),s.appendChild(r),r.innerHTML='<i class="fa-solid fa-pen-to-square"></i>',l.innerHTML='<i class="fa-solid fa-trash-can"></i>',t.appendChild(o),c.push(e),l.addEventListener("click",(t=>{o.textContent="",o.style.display="none";const n=c.indexOf(e);n>-1&&c.splice(n,1)})),n.addEventListener("click",d,!0)};return{addProject:s,openProjectForm:()=>{document.getElementById("add-project-form").classList.add("show"),document.getElementById("project-title-input").required=!0},getProjectArr:()=>c}})();let n=[];localStorage.hasOwnProperty("projects")&&(n=JSON.parse(localStorage.getItem("projects")),n.forEach((e=>{t.addProject(e)})));const c=document.getElementById("side-bar-btn"),o=document.getElementById("side-bar"),d=document.getElementById("body-container");c.addEventListener("click",(()=>{o.classList.toggle("close"),d.classList.toggle("toggle")})),document.getElementById("add-project-btn").addEventListener("click",(e=>{t.openProjectForm(),n=t.getProjectArr(),document.getElementById("project-submit-btn")})),window.onbeforeunload=()=>{n=t.getProjectArr(),localStorage.setItem("projects",JSON.stringify(n))}})();