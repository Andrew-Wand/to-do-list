(()=>{"use strict";const t=(()=>{let t;const e=document.getElementById("body-content"),n=(document.getElementById("project-title"),t=>{const n=document.createElement("div");n.classList.add("task-container"),e.appendChild(n);const c=document.createElement("div");c.classList.add("task-title"),c.textContent=`${t.title}`,n.appendChild(c);const o=document.createElement("div");n.appendChild(o);const d=document.createElement("button");d.textContent="Edit",d.classList.add("task-delete-btn"),d.innerHTML='<i class="fa-solid fa-pen-to-square"></i>',o.appendChild(d);const s=document.createElement("button");s.textContent="Delete",s.classList.add("task-edit-btn"),s.innerHTML='<i class="fa-solid fa-trash-can"></i>',o.appendChild(s),s.addEventListener("click",(t=>{n.textContent="",n.style.display="none";const e=myProjects.myTasks.indexOf(project);e>-1&&myProjects.myTasks.splice(e,1)}))}),c=t=>{document.getElementById("modal-container").classList.add("show")},o=document.getElementById("title-input");return document.getElementById("modal-form").addEventListener("submit",(e=>{e.preventDefault();let c={title:o.value};document.getElementById("modal-container").classList.remove("show"),o.value="",n(c),t.myTasks.push(c)})),{resetProject:()=>{e.textContent=""},openProject:o=>{t=o;const d=document.createElement("div");d.classList.add("proj-title-container"),e.appendChild(d);const s=document.createElement("div");s.classList.add("proj-title"),s.textContent=`${o.name}`,d.appendChild(s),0!=o.myTasks.length&&o.myTasks.forEach((t=>{n(t)}));const a=document.createElement("div");a.innerHTML='<button class="add-task-btn" id="add-task-btn">\n            <i class="fa-solid fa-circle-plus"></i>\n        </button>',a.addEventListener("click",c),a.classList.add("new-task"),d.appendChild(a)},newTask:n}})(),e=(()=>{const e=document.getElementById("proj-container"),n=document.getElementById("proj-container");let c=[];const o=document.getElementById("add-project-form");o.addEventListener("submit",(t=>{t.preventDefault();const e=document.getElementById("project-title-input");let n={name:e.value,myTasks:[]};o.classList.remove("show"),s(n),e.value=""}));const d=e=>{if(!e.target.className)return;let n;t.resetProject(),document.querySelectorAll(".project-container").forEach((t=>{t.classList.contains("project-click")&&t.classList.remove("project-click")})),c.forEach((t=>{t.name==e.target.textContent&&(n=t)})),e.target.classList.add("project-click"),t.openProject(n)},s=t=>{const o=document.createElement("div");o.classList.add("project-container"),o.setAttribute("id","project-container");const s=document.createElement("div");s.classList.add("project-btn-container");const a=document.createElement("div");a.textContent=`${t.name}`,a.classList.add("project-title");const l=document.createElement("button");l.textContent="Edit",l.classList.add("project-edit-btn"),s.appendChild(l);const i=document.createElement("button");i.textContent="Delete",i.classList.add("project-delete-btn"),o.appendChild(a),o.appendChild(s),s.appendChild(i),l.innerHTML='<i class="fa-solid fa-pen-to-square"></i>',i.innerHTML='<i class="fa-solid fa-trash-can"></i>',e.appendChild(o),c.push(t),i.addEventListener("click",(e=>{o.textContent="",o.style.display="none";const n=c.indexOf(t);n>-1&&c.splice(n,1)})),n.addEventListener("click",d,!0)};return{addProject:s,openProjectForm:()=>{document.getElementById("add-project-form").classList.add("show"),document.getElementById("project-title-input").required=!0},getProjectArr:()=>c}})();let n=[];localStorage.hasOwnProperty("projects")&&(n=JSON.parse(localStorage.getItem("projects")),n.forEach((t=>{e.addProject(t)})));const c=document.getElementById("side-bar-btn"),o=document.getElementById("side-bar"),d=document.getElementById("body-container");c.addEventListener("click",(()=>{o.classList.toggle("close"),d.classList.toggle("toggle")})),document.getElementById("add-project-btn").addEventListener("click",(t=>{e.openProjectForm(),n=e.getProjectArr(),document.getElementById("project-submit-btn")})),window.onbeforeunload=()=>{n=e.getProjectArr(),localStorage.setItem("projects",JSON.stringify(n))}})();